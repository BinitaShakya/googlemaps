<html>
<head>
	<title></title>
</head>
<body>
	<style type="text/css">
	#map_canvas {
		margin:0 auto;
	  height: 600px;
	  width: 600px;
	}

	</style>
	<?php 
	    $info = array();
	    $info[0] = array('firstname'=>'binita','lastname'=>'shakya','image'=>'/static/images/binita.jpg','area'=>'kathmandu','phone'=>'099898778');
	     echo("<pre>");
                            print_r($info[0]);
                            echo("</pre>"); 
	  ?>

	<script type="text/javascript" src="http://maps.google.com/maps/api/js?v=3.exp&sensor=false"></script>
	<div id="map_canvas" ></div>
	<script type="text/javascript">
		var geocoder;
		var map;
		// var address = ["San Diego","Nepal","Bangkok","singapore","manilla","sydney", "tokyo","turkey","hongkong","dubai","florida","canada"];
		var address = ["San Diego","Nepal"];
		// var info = array[('firstname'=>'binita', 'lastname'=>'shakya'), ('firstname'=>'sanindra','lastname'=>'shakya')];

		var info = {
					            firstname : 'Stéphanie',
					            lastname : 'Gobel',
					            image : '/static/media/images/salesmanagers/Picture3.jpg',
					            area : 'Genève',
					            phone : '+41 79 307 61 87',
					};

					 
    
		console.log(info);

		var nextAddress = 0;
		var delay = 100;

		function initialize() {
			geocoder = new google.maps.Geocoder();
			var latlng = new google.maps.LatLng(46.75871154014102, 8.24450683593751);
			var myOptions = {
			zoom: 5,
			center: latlng,
			mapTypeControl: true,
			mapTypeControlOptions: {
			  style: google.maps.MapTypeControlStyle.DROPDOWN_MENU
			},
			navigationControl: true,
			mapTypeId: google.maps.MapTypeId.ROADMAP
			};
			map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
			// var bounds = new google.maps.LatLngBounds();
			// for (i = 0; i < address.length; i++) {
			// 		codeAddress(address, i);
			// }
		  
			 //    var polygonArray = [
			 //          {lat: 25.774, lng: -80.190},
			 //          {lat: 18.466, lng: -66.118},
			 //          {lat: 32.321, lng: -64.757},
			 //          {lat: 25.774, lng: -80.190}
			 //        ];

			 //    //     // Construct the polygon.
			 //    //     var bermudaTriangle = new google.maps.Polygon({
			 //    //       paths: triangleCoords,
			 //    //       strokeColor: '#FF0000',
			 //    //       strokeOpacity: 0.8,
			 //    //       strokeWeight: 2,
			 //    //       fillColor: '#FF0000',
			 //    //       fillOpacity: 0.35
			 //    //     });
			 //    //     bermudaTriangle.setMap(map);

			 //   for (var i = 0; i < polygonArray.length; i++) {
				//     //Add the polygon
				//     var p = new google.maps.Polygon({
				//         paths: polygonArray[i],
				//         strokeWeight: 0,
				//         fillColor: '#FF0000',
				//         fillOpacity: 0.6,
				//         indexID: i
				//     });
				//     p.setMap(map);

				//     //Add the click listener
				//     google.maps.event.addListener(p, 'click', function (event) {
				//         //alert the index of the polygon
				//         alert(this.indexID);
				//     });
				// }

			theNext();
		}

		function theNext() {
			// console.log("theNext funtcion");
			// console.log("Address:"+address.length);
	        if (nextAddress < address.length) {
	          setTimeout('codeAddress("'+address[nextAddress]+'",'+ theNext +')', delay);
	          nextAddress++;
	        } else {
	          // We're done. Show map bounds
	         
	          // map.fitBounds(bounds);

	        }
	      }


		function codeAddress(location, next) {
			// console.log("codeAddress Function:"+location);
			var address = location;
			geocoder.geocode({
			  'address': location
			}, function(results, status) { 
			  if (status == google.maps.GeocoderStatus.OK) {
			    if (status != google.maps.GeocoderStatus.ZERO_RESULTS) {
			      // map.setCenter(results[0].geometry.location);
			      var infowindow = new google.maps.InfoWindow({
			        content: '<b>' + address + '</b>',
			        size: new google.maps.Size(150, 50)
			      });

			      var marker = new google.maps.Marker({
			        position: results[0].geometry.location,
			        map: map,
			        title: address
			      });

			      google.maps.event.addListener(marker, 'click', function() {
			        infowindow.open(map, marker);
			      });

			    } else {
			      alert("No results found");
			    }
			  } else {

			      if (status == google.maps.GeocoderStatus.OVER_QUERY_LIMIT) {
			        nextAddress--;
			        delay++;
			      } else {
			        alert("Geocode was not successful for the following reason: " + status);
			      }

			  }
			  next();
			});
        }

       
		google.maps.event.addDomListener(window, 'load', initialize);


	</script>


	<script async defer src="http://maps.googleapis.com/maps/api/js?key=AIzaSyDSdyqX-YfJ9mMcGqXSdGPOURjWGKSGJqM&sensor=false"></script>


</body>
</html>